{
  "extId": "NU__ExternalId__c",
  "queries": [],
  "records": {},
  "cleaners": [
    {
      "type": "ApexScript",
      "body": [
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('TransactionTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('Registration2Trigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('MembershipTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('DonationTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('SubscriptionTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('MiscellaneousTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('OrderTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('OrderItemTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('OrderItemLineTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('PaymentLineTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('PaymentTrigger');",
        "List<NU__Order__c> os = [SELECT Id FROM NU__Order__c];",
        "List<NU__OrderItem__c> ois = [SELECT Id FROM NU__OrderItem__c];",
        "List<NU__OrderItemLine__c> oils = [SELECT Id FROM NU__OrderItemLine__c];",
        "List<NU__PaymentLine__c> paymentLines = [SELECT Id, NU__Payment__c FROM NU__PaymentLine__c];",
        "List<NU__Transaction__c> transactions = [SELECT Id FROM NU__Transaction__c];",
        "List<NU__Payment__c> payments = [SELECT Id FROM NU__Payment__c];",
        "List<NU__Membership__c> memberships = [SELECT Id FROM NU__Membership__c];",
        "List<NU__Registration2__c> regs = [SELECT Id FROM NU__Registration2__c];",
        "List<NU__Donation__c> donations = [SELECT Id FROM NU__Donation__c];",
        "List<NU__Subscription__c> subscripts = [SELECT Id FROM NU__Subscription__c];",
        "List<NU__Miscellaneous__c> miscs = [SELECT Id FROM NU__Miscellaneous__c];",
        "List<NU__Merchandise__c> merchs = [SELECT Id FROM NU__Merchandise__c];",
        "delete memberships;",
        "delete donations;",
        "delete regs;",
        "delete subscripts;",
        "delete miscs;",
        "delete merchs;",
        "delete transactions;",
        "delete paymentLines;",
        "delete payments;",
        "delete oils;",
        "delete ois;",
        "delete os;"
      ]
    },
    {
      "type": "ApexScript",
      "body": [
        "List<User> communityUsers = [SELECT Id FROM User WHERE Profile.UserLicense.Name='Partner Community' OR Profile.UserLicense.Name='Customer Community Login'];",
        "List<User> updateUsers = new List<User>();",
        "for(User u : communityUsers) {",
        "updateUsers.add(new User(Id=u.Id, IsActive=false, IsPortalEnabled=false, Country='United States', Username=u.Id+'@nimbleuser.com', CommunityNickname=u.Id, Alias=((String)u.Id).substring(0, 7), FirstName=u.Id, LastName=u.Id, Email=u.Id+'@nimbleuser.com'));",
        "}",
        "update updateUsers;"
      ]
    },
    {
      "type": "ApexScript",
      "body": [
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('CommitteeMembershipTrigger');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('AffiliationTriggers');",
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('AccountTriggers');",
        "List<Case> cases = [SELECT Id FROM Case];",
        "List<NU__CommitteeMembership__c> cms = [SELECT Id FROM NU__CommitteeMembership__c];",
        "List<NU__Affiliation__c> afs = [SELECT Id FROM NU__Affiliation__c];",
        "List<Account> acs = [SELECT Id FROM Account];",
        "List<NU__MembershipTypeProductLink__c> mtpls = [SELECT Id FROM NU__MembershipTypeProductLink__c];",
        "List<NU__ProrationRuleItem__c> pris = [SELECT Id FROM NU__ProrationRuleItem__c];",
        "List<NU__ProrationRule__c> prs = [SELECT Id FROM NU__ProrationRule__c];",
        "List<NU__PaymentScheduleLink__c> psls = [SELECT Id FROM NU__PaymentScheduleLink__c];",
        "List<NU__MembershipType__c> mts = [SELECT Id FROM NU__MembershipType__c];",
        "List<NU__SalesTax__c> sts = [SELECT Id FROM NU__SalesTax__c];",
        "List<NU__ARAging__c> ars = [SELECT Id FROM NU__ARAging__c];",
        "delete cases;",
        "delete cms;",
        "delete afs;",
        "delete acs;",
        "delete mtpls;",
        "delete pris;",
        "delete prs;",
        "delete psls;",
        "delete mts;",
        "delete sts;",
        "delete ars;"
      ]
    },
    {
      "type": "ApexScript",
      "body": [
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('ProductTrigger');",
        "List<NU__EventQuestionOption__c> cms = [SELECT Id FROM NU__EventQuestionOption__c];",
        "List<NU__EventQuestion__c> afs = [SELECT Id FROM NU__EventQuestion__c];",
        "List<NU__SpecialPrice__c> acs = [SELECT Id FROM NU__SpecialPrice__c];",
        "List<NU__AppealProductLink__c> apls = [SELECT Id FROM NU__AppealProductLink__c];",
        "List<NU__Product__c> mtpls = [SELECT Id FROM NU__Product__c];",
        "List<NU__DeferredRevenueMethod__c> pris = [SELECT Id FROM NU__DeferredRevenueMethod__c];",
        "List<NU__Committee__c> prs = [SELECT Id FROM NU__Committee__c];",
        "List<NU__EventSessionGroup__c> mts = [SELECT Id FROM NU__EventSessionGroup__c];",
        "List<NU__Event__c> sts = [SELECT Id FROM NU__Event__c];",
        "List<NU__EntityOrderItem__c> ars = [SELECT Id FROM NU__EntityOrderItem__c];",
        "delete cms;",
        "delete afs;",
        "delete acs;",
        "delete apls;",
        "delete mtpls;",
        "delete pris;",
        "delete prs;",
        "delete mts;",
        "delete sts;",
        "delete ars;"
      ]
    },
    {
      "type": "ApexScript",
      "body": [
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('EntityCrossoverTrigger');",
        "List<NU__EntityCrossover__c> ecs = [SELECT Id FROM NU__EntityCrossover__c];",
        "List<NU__EntityPaymentGatewayLink__c> eps = [SELECT Id FROM NU__EntityPaymentGatewayLink__c];",
        "List<NU__EntityCreditCardIssuer__c> cms = [SELECT Id FROM NU__EntityCreditCardIssuer__c];",
        "List<NU__EntityPaymentMethod__c> afs = [SELECT Id FROM NU__EntityPaymentMethod__c];",
        "List<NU__BankAccount__c> acs = [SELECT Id FROM NU__BankAccount__c];",
        "List<NU__GLAccount__c> mtpls = [SELECT Id FROM NU__GLAccount__c];",
        "List<NU__Configuration__c> pris = [SELECT Id FROM NU__Configuration__c];",
        "List<NU__Entity__c> prs = [SELECT Id FROM NU__Entity__c];",
        "List<NU__ShipMethod__c> mts = [SELECT Id FROM NU__ShipMethod__c];",
        "List<NU__PriceClass__c> sts = [SELECT Id FROM NU__PriceClass__c];",
        "List<NU__PaymentMethod__c> ars = [SELECT Id FROM NU__PaymentMethod__c];",
        "delete ecs;",
        "delete eps;",
        "delete cms;",
        "delete afs;",
        "delete acs;",
        "delete mtpls;",
        "delete pris;",
        "delete prs;",
        "delete mts;",
        "delete sts;",
        "delete ars;"
      ]
    },
    {
      "type": "ApexScript",
      "body": [
        "NU.TriggerHandlerManager.disableTriggerForThisRequest('CommitteeMembershipTrigger');",
        "List<NU__OrderItemConfiguration__c> cms = [SELECT Id FROM NU__OrderItemConfiguration__c];",
        "List<NU__CreditCardIssuer__c> afs = [SELECT Id FROM NU__CreditCardIssuer__c];",
        "List<NU__CommitteePosition__c> acs = [SELECT Id FROM NU__CommitteePosition__c];",
        "List<NU__BatchExportConfiguration__c> mtpls = [SELECT Id FROM NU__BatchExportConfiguration__c];",
        "delete cms;",
        "delete afs;",
        "delete acs;",
        "delete mtpls;"
      ]
    }
  ]
}
